<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hexo">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-SpringBoot-Help" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/01/10/SpringBoot-Help/" class="article-date">
  <time datetime="2017-01-10T06:39:17.000Z" itemprop="datePublished">2017-01-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/01/10/SpringBoot-Help/">SpringBoot Help</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Spring-Boot-MVC"><a href="#Spring-Boot-MVC" class="headerlink" title="Spring Boot MVC"></a>Spring Boot MVC</h1><h2 id="使用Spring-Boot"><a href="#使用Spring-Boot" class="headerlink" title="使用Spring Boot"></a>使用Spring Boot</h2><p>你可以像使用标准的Java库文件一样使用Spring Boot。简单的将需要的 spring-boot-*.jar 添加到classpath即可。<br> Spring Boot不要求任何特殊的工具集成，所以可以使用任何IDE，甚至文本编辑器。</p>
<p>只是，仍然建议使用build工具：Maven 或 Gradle。</p>
<pre><code>Spring Boot依赖 使用 org.springframework.boot groupId 。
通常，让你的Maven POM文件继承 spring-boot-starter-parent，并声明一个或多个 Starter POMs依赖即可。Spring Boot也提供了一个可选的 Maven Plugin来创建可执行的jars。 
</code></pre><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">    &lt;parent&gt;</div><div class="line">    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</div><div class="line">    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;</div><div class="line">    &lt;version&gt;1.4.3.RELEASE&lt;/version&gt;</div><div class="line">&lt;/parent&gt;</div><div class="line">&lt;dependencies&gt;</div><div class="line">    &lt;dependency&gt;</div><div class="line">        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</div><div class="line">        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;</div><div class="line">    &lt;/dependency&gt;</div><div class="line">&lt;/dependencies&gt;</div></pre></td></tr></table></figure>
<h2 id="环境准备"><a href="#环境准备" class="headerlink" title="环境准备"></a>环境准备</h2><p>一个称手的文本编辑器（例如Vim、Emacs、Sublime Text）或者IDE（Eclipse、Idea Intellij）<br>Java环境（JDK 1.7或以上版本）<br>Maven 3.0+（Eclipse和Idea IntelliJ内置，如果使用IDE并且不使用命令行工具可以不安装）<br>一个最简单的Web应用</p>
<h2 id="pom配置依赖"><a href="#pom配置依赖" class="headerlink" title="pom配置依赖"></a>pom配置依赖</h2><p>使用Spring Boot框架可以大大加速Web应用的开发过程，首先在Maven项目依赖中引入spring-boot-starter-web：</p>
<p>pom.xml</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div></pre></td><td class="code"><pre><div class="line">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</div><div class="line">&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"</div><div class="line">    xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd"&gt;</div><div class="line">    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;</div><div class="line">    &lt;groupId&gt;org.springframework&lt;/groupId&gt;</div><div class="line">    &lt;artifactId&gt;gs-maven&lt;/artifactId&gt;</div><div class="line">    &lt;packaging&gt;jar&lt;/packaging&gt;</div><div class="line">    &lt;version&gt;0.1.0&lt;/version&gt;</div><div class="line"></div><div class="line">    &lt;parent&gt;</div><div class="line">        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</div><div class="line">        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;</div><div class="line">        &lt;version&gt;1.4.3.RELEASE&lt;/version&gt;</div><div class="line">    &lt;/parent&gt;</div><div class="line">    &lt;dependencies&gt;</div><div class="line">    &lt;dependency&gt;</div><div class="line">        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</div><div class="line">        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;</div><div class="line">    &lt;/dependency&gt;</div><div class="line">    &lt;dependency&gt;</div><div class="line">        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</div><div class="line">        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;</div><div class="line">        &lt;optional&gt;true&lt;/optional&gt;</div><div class="line">    &lt;/dependency&gt;</div><div class="line"></div><div class="line">    &lt;dependency&gt;</div><div class="line">        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;</div><div class="line">        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;</div><div class="line">        &lt;version&gt;2.7.0&lt;/version&gt;</div><div class="line">        &lt;/dependency&gt;</div><div class="line">    &lt;dependency&gt;</div><div class="line">        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;</div><div class="line">        &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;</div><div class="line">        &lt;version&gt;2.7.0&lt;/version&gt;</div><div class="line">    &lt;/dependency&gt;</div><div class="line">    &lt;/dependencies&gt;</div><div class="line"></div><div class="line">    &lt;build&gt;</div><div class="line">        &lt;plugins&gt;</div><div class="line">            &lt;plugin&gt;</div><div class="line">                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</div><div class="line">                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;</div><div class="line">                &lt;configuration&gt;</div><div class="line">                    &lt;fork&gt;true&lt;/fork&gt;</div><div class="line">                &lt;/configuration&gt;</div><div class="line">            &lt;/plugin&gt;</div><div class="line">        &lt;/plugins&gt;</div><div class="line"> </div><div class="line">    &lt;/build&gt;</div><div class="line"></div><div class="line"></div><div class="line">&lt;/project&gt;</div></pre></td></tr></table></figure>
<h2 id="Controller-含main方法"><a href="#Controller-含main方法" class="headerlink" title="Controller 含main方法"></a>Controller 含main方法</h2><p>SampleController.java<br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div></pre></td><td class="code"><pre><div class="line">package hello;</div><div class="line"></div><div class="line">import org.springframework.boot.*;</div><div class="line">import org.springframework.boot.autoconfigure.*;</div><div class="line">import org.springframework.stereotype.*;</div><div class="line">import org.springframework.web.bind.annotation.*;</div><div class="line">import org.springframework.ui.Model;</div><div class="line">import org.springframework.context.annotation.ComponentScan;</div><div class="line"></div><div class="line">@RestController</div><div class="line">@Controller</div><div class="line">@ComponentScan</div><div class="line">@EnableAutoConfiguration</div><div class="line"></div><div class="line"></div><div class="line">// @Configuration  </div><div class="line">// @ComponentScan  </div><div class="line">public class SampleController &#123;</div><div class="line"></div><div class="line">    @RequestMapping("/")</div><div class="line">    @ResponseBody</div><div class="line">    String home() &#123;</div><div class="line">        return "Hello World222!";</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    @RequestMapping("/hello")</div><div class="line">    public String hello() &#123;</div><div class="line">        return "Hello World!";</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    @RequestMapping("/index")</div><div class="line">    public String index(Model model)&#123;</div><div class="line"> </div><div class="line">        model.addAttribute("name","Ryan");</div><div class="line"> </div><div class="line">        return "index";</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    public static void main(String[] args) throws Exception &#123;</div><div class="line">        SpringApplication.run(SampleController.class, args);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h2 id="Controller-不含main-的rest风格"><a href="#Controller-不含main-的rest风格" class="headerlink" title="Controller 不含main 的rest风格"></a>Controller 不含main 的rest风格</h2><p>HelloController.java</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line">package hello;</div><div class="line"> </div><div class="line">import org.springframework.boot.*;</div><div class="line">import org.springframework.boot.autoconfigure.*;</div><div class="line">import org.springframework.stereotype.*;</div><div class="line">import org.springframework.web.bind.annotation.*;</div><div class="line">import org.springframework.ui.Model; </div><div class="line">import java.util.HashMap;</div><div class="line">import java.util.Map;</div><div class="line"> </div><div class="line">/**</div><div class="line"> * Created by miaorf on 2016/6/19.</div><div class="line"> */</div><div class="line">@Controller</div><div class="line">@RestController</div><div class="line">@RequestMapping("/hello")</div><div class="line">public class HelloController &#123;</div><div class="line"> </div><div class="line">    @RequestMapping("/index")</div><div class="line">    public String index(Model model)&#123;</div><div class="line"> </div><div class="line">        model.addAttribute("name","Ryan");</div><div class="line"> </div><div class="line">        return "index";</div><div class="line">    &#125;</div><div class="line"> </div><div class="line"> </div><div class="line">    @RequestMapping("/json")</div><div class="line">    @ResponseBody</div><div class="line">    public Map&lt;String,Object&gt; json()&#123;</div><div class="line">        Map&lt;String,Object&gt; map = new HashMap&lt;String,Object&gt;();</div><div class="line">        map.put("name","Ryan");</div><div class="line">        map.put("age","18");</div><div class="line">        map.put("sex","man");</div><div class="line">        return map;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="运行应用：mvn-spring-boot-run或在IDE中运行main-方法，在浏览器中访问http-localhost-8080"><a href="#运行应用：mvn-spring-boot-run或在IDE中运行main-方法，在浏览器中访问http-localhost-8080" class="headerlink" title="运行应用：mvn spring-boot:run或在IDE中运行main()方法，在浏览器中访问http://localhost:8080"></a>运行应用：mvn spring-boot:run或在IDE中运行main()方法，在浏览器中访问<a href="http://localhost:8080" target="_blank" rel="external">http://localhost:8080</a></h2><h2 id="简单分析"><a href="#简单分析" class="headerlink" title="简单分析"></a>简单分析</h2><p>我们从程序的入口SpringApplication.run(Application.class, args);开始分析：</p>
<ul>
<li><p>SpringApplication是Spring Boot框架中描述Spring应用的类，它的run()方法会创建一个Spring应用上下文（Application Context）。另一方面它会扫描当前应用类路径上的依赖，例如本例中发现spring-webmvc（由 spring-boot-starter-web传递引入）在类路径中，那么Spring Boot会判断这是一个Web应用，并启动一个内嵌的Servlet容器（默认是Tomcat）用于处理HTTP请求。</p>
</li>
<li><p>Spring WebMvc框架会将Servlet容器里收到的HTTP请求根据路径分发给对应的@Controller类进行处理，@RestController是一类特殊的@Controller，它的返回值直接作为HTTP Response的Body部分返回给浏览器。</p>
</li>
<li><p>@RequestMapping注解表明该方法处理那些URL对应的HTTP请求，也就是我们常说的URL路由（routing)，请求的分发工作是有Spring完成的。例如上面的代码中<a href="http://localhost:8080/" target="_blank" rel="external">http://localhost:8080/</a> 根路径就被路由至greeting()方法进行处理。如果访问<a href="http://localhost:8080/hello" target="_blank" rel="external">http://localhost:8080/hello</a> ，则会出现404 Not Found错误，因为我们并没有编写任何方法来处理/hello请求。</p>
</li>
<li><p>例如HelloController中，method方法匹配的URL是/classPath/methodPath”。</p>
<p>提示</p>
</li>
</ul>
<p>可以定义多个@Controller将不同URL的处理方法分散在不同的类中</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/01/10/SpringBoot-Help/" data-id="cixr64idq0002z8jom7187xs4" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-HexoHelper" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/01/10/HexoHelper/" class="article-date">
  <time datetime="2017-01-10T06:37:46.000Z" itemprop="datePublished">2017-01-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/01/10/HexoHelper/">HexoHelper</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>#hexo分支提交<br>git add –all<br>git commit -m “…”<br>git push origin hexo提交网站相关的文件；<br>多秘钥管理问题eval $(ssh-agent)，然后输入ssh-add ~/.ssh/id_rsa_songmaozh；</p>
<p>#master提交<br>执行hexo g -d生成网站并部署到GitHub上。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/01/10/HexoHelper/" data-id="cixr64ido0001z8jo74yekq6j" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-js自执行函数" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/12/15/js自执行函数/" class="article-date">
  <time datetime="2016-12-15T06:59:19.000Z" itemprop="datePublished">2016-12-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/12/15/js自执行函数/">js自执行函数</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>js自执行函数的几种不同写法的比较</p>
<p>经常需要一个函数自执行，可惜这一种写法是错的：<br>复制代码 代码如下:<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">function()&#123;alert(<span class="number">1</span>);&#125;();</div></pre></td></tr></table></figure></p>
<p>原因是前半段“function(){alert(1);}”被当成了函数声明，而不是一个函数表达式，从而让后面的“();”变得孤立，产生语法错。 </p>
<p>按上面的分析，这一段代码虽说没有语法错，但也是不符合我们的预期的，因为这个函数并没有自执行。<br>复制代码 代码如下:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">function()&#123;alert(<span class="number">1</span>);&#125;(<span class="number">1</span>);</div></pre></td></tr></table></figure>
<p>综上，症结在于，如何明确代码描述的是一个函数表达式，而不是函数声明语句。<br>正确的写法多种多样，也各有利弊： </p>
<p>方法1：最前最后加括号 </p>
<p>复制代码 代码如下:<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">(function()&#123;alert(<span class="number">1</span>);&#125;());</div></pre></td></tr></table></figure></p>
<p>这是jslint推荐的写法，好处是，能提醒阅读代码的人，这段代码是一个整体。<br>例如，在有语法高亮匹配功能的编辑器里，光标在第一个左括号后时，最后一个右括号也会高亮，看代码的人一眼就可以看到这个整体。<br>不过，对于某些写代码不喜欢在行后加分号的同学，也会形成一些坑坑，例如以下代码会报运行错：<br>复制代码 代码如下:<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var a=<span class="number">1</span> </div><div class="line">(function()&#123;alert(<span class="number">1</span>);&#125;());</div></pre></td></tr></table></figure></p>
<p>方法2：function外面加括号 </p>
<p>复制代码 代码如下:<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">(function()&#123;alert(<span class="number">1</span>);&#125;)();</div></pre></td></tr></table></figure></p>
<p>这种做法比方法1少了一个代码整体性的好处。 </p>
<p>方法3：function前面加运算符，常见的是!与void 。<br>复制代码 代码如下:<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">!function()&#123;alert(<span class="number">1</span>);&#125;(); </div><div class="line">void function()&#123;alert(<span class="number">2</span>);&#125;();</div></pre></td></tr></table></figure></p>
<p>显然，加上“!”或“+”等运算符，写起来是最简单的。<br>加上“void ”要敲五下键盘，但是听说有一个好处是，比加”!”少一次逻辑运算。—-我只是听说，不明所以。 </p>
<p>最后，代表我个人，强烈支持方法1,即jslint的推荐写法：<br>复制代码 代码如下:<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">(function()&#123;alert(<span class="number">1</span>);&#125;());</div></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/12/15/js自执行函数/" data-id="cixr64idu0005z8jo864iu5aj" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Jquery简写" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/12/15/Jquery简写/" class="article-date">
  <time datetime="2016-12-15T06:49:37.000Z" itemprop="datePublished">2016-12-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/12/15/Jquery简写/">Jquery简写</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="function"><a href="#function" class="headerlink" title="~ function($) {}($)"></a>~ function($) {}($)</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var fn = function(opt)&#123;&#125;;</div><div class="line">fn($);</div></pre></td></tr></table></figure>
<h2 id="this和-this"><a href="#this和-this" class="headerlink" title="$this和$(this)"></a>$this和$(this)</h2><p>// this其实是一个Html 元素。<br>// $this 只是个变量名，加$是为说明其是个jquery对象。<br>// 而$(this)是个转换，将this表示的dom对象转为jquery对象，这样就可以使用jquery提供的方法操作。</p>
<h2 id="return-this-each-function"><a href="#return-this-each-function" class="headerlink" title="return this.each(function () {})"></a>return this.each(function () {})</h2><p>因为each返回的也是this对象，所以直接return this.each可以执行你的相关操作，还可以保持链式调用功能<br>因为this.each保证了遍历完成才执行下一个操作，否则迭代是延迟执行的，前面的插件并没有实际执行。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">jQuery.fn.test2= function()&#123; </div><div class="line">   this.css(<span class="string">"background"</span>,<span class="string">"#ff0"</span>);//这里面的this为jquery对象，而不是dom对象 </div><div class="line">   <span class="keyword">return</span> this.each(function()&#123; //遍历匹配的元素，此处的this表示为jquery对象，而不是dom对象 </div><div class="line">    alert(<span class="string">"this"</span>+this+this.innerHTML); </div><div class="line">    //提示当前对象的dom节点名称,这里的this关键字都指向一个不同的DOM元素（每次都是一个不同的匹配元素）。 </div><div class="line">     &#125;); </div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<p>this.css(),this.each（）里面的this为jquery对象，但是alert里面this为dom对象.<br>为什么要return this.each()<br>先return this.each(),后调用each（）方法，而each（）方法返回jQuery对象，所以这样就可以继续链式操作了。<br>首先在JQ中,each是遍历一个数组,比如你$(‘.some’)返回的不一定只是一个jq对象,有可能是个数组,好多个elements.<br>所以return this.each(){}是把所有你索引的对象都作用到这个插件下.<br>你若保证你的插件每次都只会用一个JQ对象,那么你可以直接return this.</p>
<h2 id="JavaScript-prototype-属性"><a href="#JavaScript-prototype-属性" class="headerlink" title="JavaScript prototype 属性"></a>JavaScript prototype 属性</h2><p>定义和用法<br>prototype 属性允许您向对象添加属性和方法<br>注意： Prototype 是全局属性，适用于所有的Javascript对象。<br>语法<br>object.prototype.name=value</p>
<h2 id="extend"><a href="#extend" class="headerlink" title="_.extend"></a>_.extend</h2><p><em>，在这里应该是接管了JQUERY，就是jQuery。(有不少人这样用，因为和$冲突)
</em>.extend方法是把指定的对象进行扩展(在这里就是document.body.style)<br>Query中需要用到$符号，如果其他js库（例如大名鼎鼎的prototype)也定义了$符号，那么就会造成冲突，会影响到js代码的正常执行。</p>
<h2 id="jquery-call方法和apply方法"><a href="#jquery-call方法和apply方法" class="headerlink" title="jquery call方法和apply方法"></a>jquery call方法和apply方法</h2><p>call方法:<br>语法：call([thisObj[,arg1[, arg2[,   [,.argN]]]]])<br>定义：调用一个对象的一个方法，以另一个对象替换当前对象。<br>说明：<br>call 方法可以用来代替另一个对象调用一个方法。call 方法可将一个函数的对象上下文从初始的上下文改变为由 thisObj 指定的新对象。<br>如果没有提供 thisObj 参数，那么 Global 对象被用作 thisObj。 </p>
<p>apply方法：<br>语法：apply([thisObj[,argArray]])<br>定义：应用某一对象的一个方法，用另一个对象替换当前对象。<br>说明：<br>如果 argArray 不是一个有效的数组或者不是 arguments 对象，那么将导致一个 TypeError。<br>如果没有提供 argArray 和 thisObj 任何一个参数，那么 Global 对象将被用作 thisObj， 并且无法被传递任何参数。 </p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line">  </div><div class="line">    &lt;script language="javascript"&gt;&lt;!--</div><div class="line">   </div><div class="line">    /**定义一个animal类*/  </div><div class="line">    function Animal()&#123;   </div><div class="line">    this.name = "Animal";   </div><div class="line">    this.showName = function()&#123;   </div><div class="line">    alert(this.name);   </div><div class="line">    &#125;   </div><div class="line">    &#125;   </div><div class="line">    /**定义一个Cat类*/  </div><div class="line">    function Cat()&#123;   </div><div class="line">    this.name = "Cat";   </div><div class="line">    &#125;   </div><div class="line">  </div><div class="line">    /**创建两个类对象*/  </div><div class="line">    var animal = new Animal();   </div><div class="line">    var cat = new Cat();   </div><div class="line">  </div><div class="line">    //通过call或apply方法，将原本属于Animal对象的showName()方法交给当前对象cat来使用了。   </div><div class="line">    //输入结果为"Cat"   </div><div class="line">    animal.showName.call(cat,",");   </div><div class="line">    //animal.showName.apply(cat,[]);   </div><div class="line">      </div><div class="line">    </div><div class="line">// --&gt;&lt;/script&gt;</div></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/12/15/Jquery简写/" data-id="cixr64idl0000z8joago6uxp5" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Namespace" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/12/14/Namespace/" class="article-date">
  <time datetime="2016-12-14T06:00:00.000Z" itemprop="datePublished">2016-12-14</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/12/14/Namespace/">Namespace</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Jquery插件的开发包括两种："><a href="#Jquery插件的开发包括两种：" class="headerlink" title="Jquery插件的开发包括两种："></a>Jquery插件的开发包括两种：</h1><p>一种是类级别的插件开发，即给jQuery添加新的全局函数，相当于给jQuery类本身添加方法。jQuery的全局函数就是属于jQuery命名空间的函数，另一种是对象级别的插件开发，即给jQuery对象添加方法。下面就两种函数的开发做详细的说明。</p>
<h2 id="1、类级别的插件开发"><a href="#1、类级别的插件开发" class="headerlink" title="1、类级别的插件开发"></a>1、类级别的插件开发</h2><p>类级别的插件开发最直接的理解就是给jQuery类添加类方法，可以理解为添加静态方法。典型的例子就是$.AJAX()这个函数，将函数定义于jQuery的命名空间中。关于类级别的插件开发可以采用如下几种形式进行扩展：</p>
<h3 id="1-1-添加一个新的全局函数"><a href="#1-1-添加一个新的全局函数" class="headerlink" title="1.1 添加一个新的全局函数"></a>1.1 添加一个新的全局函数</h3><p>添加一个全局函数，我们只需如下定义：</p>
<p>Java代码<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">jQuery.foo = function() &#123;    </div><div class="line">alert(<span class="string">'This is a test. This is only a test.'</span>);   </div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<h3 id="1-2-增加多个全局函数"><a href="#1-2-增加多个全局函数" class="headerlink" title="1.2 增加多个全局函数"></a>1.2 增加多个全局函数</h3><p>添加多个全局函数，可采用如下定义：</p>
<p>Java代码<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">jQuery.foo = function() &#123;    </div><div class="line">alert(<span class="string">'This is a test. This is only a test.'</span>);   </div><div class="line">&#125;;   </div><div class="line">jQuery.bar = function(param) &#123;    </div><div class="line">alert(<span class="string">'This function takes a parameter, which is "'</span> + param + <span class="string">'".'</span>);   </div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<p>调用时和一个函数的一样的:jQuery.foo();jQuery.bar();或者$.foo();$.bar(‘bar’);  </p>
<h3 id="1-3-使用jQuery-extend-object"><a href="#1-3-使用jQuery-extend-object" class="headerlink" title="1.3 使用jQuery.extend(object);　"></a>1.3 使用jQuery.extend(object);　</h3><p>Java代码<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">jQuery.extend(&#123;       </div><div class="line">foo: function() &#123;       </div><div class="line">alert(<span class="string">'This is a test. This is only a test.'</span>);       </div><div class="line">&#125;,       </div><div class="line">bar: function(param) &#123;       </div><div class="line">alert(<span class="string">'This function takes a parameter, which is "'</span> + param +<span class="string">'".'</span>);       </div><div class="line">&#125;      </div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<h3 id="1-4-使用命名空间"><a href="#1-4-使用命名空间" class="headerlink" title="1.4 使用命名空间"></a>1.4 使用命名空间</h3><p>虽然在jQuery命名空间中，我们禁止使用了大量的javaScript函数名和变量名。但是仍然不可避免某些函数或变量名将于其他jQuery插件冲突，因此我们习惯将一些方法封装到另一个自定义的命名空间。</p>
<p>Java代码<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">jQuery.myPlugin = &#123;           </div><div class="line">foo:function() &#123;           </div><div class="line">alert(<span class="string">'This is a test. This is only a test.'</span>);           </div><div class="line">&#125;,           </div><div class="line">bar:function(param) &#123;           </div><div class="line">alert(<span class="string">'This function takes a parameter, which is "'</span> + param + <span class="string">'".'</span>);     </div><div class="line">&#125;          </div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<p>采用命名空间的函数仍然是全局函数，调用时采用的方法：<br>$.myPlugin.foo();<br>$.myPlugin.bar(‘baz’);  </p>
<p>通过这个技巧（使用独立的插件名），我们可以避免命名空间内函数的冲突。</p>
<h2 id="2、对象级别的插件开发"><a href="#2、对象级别的插件开发" class="headerlink" title="2、对象级别的插件开发"></a>2、对象级别的插件开发</h2><p>对象级别的插件开发需要如下的两种形式：、</p>
<p>形式1：  </p>
<p>Java代码<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">(function($)&#123;      </div><div class="line">$.fn.extend(&#123;      </div><div class="line">pluginName:function(opt,callback)&#123;      </div><div class="line"> /*Our plugin implementation code goes here.  */      </div><div class="line">&#125;      </div><div class="line">&#125;)      </div><div class="line">&#125;)(jQuery);</div></pre></td></tr></table></figure></p>
<p>形式2：</p>
<p>Java代码<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">(function($) &#123;        </div><div class="line">$.fn.pluginName = function() &#123;      </div><div class="line">/* Our plugin implementation code goes here. </div><div class="line">&#125;;      </div><div class="line">&#125;)(jQuery);</div></pre></td></tr></table></figure></p>
<p>上面定义了一个jQuery函数,形参是$，函数定义完成之后,把jQuery这个实参传递进去.立即调用执行。这样的好处是,我们在写jQuery插件时,也可以使用$这个别名,而不会与prototype引起冲突.</p>
<h3 id="2-1-在JQuery名称空间下申明一个名字"><a href="#2-1-在JQuery名称空间下申明一个名字" class="headerlink" title="2.1 在JQuery名称空间下申明一个名字"></a>2.1 在JQuery名称空间下申明一个名字</h3><p>这是一个单一插件的脚本。如果你的脚本中包含多个插件，或者互逆的插件（例如： $.fn.doSomething() 和 $.fn.undoSomething()），那么你需要声明多个函数名字。但是，通常当我们编写一个插件时，力求仅使用一个名字来包含它的所有内容。我们的示例插件命名为“highlight“    </p>
<p>Java代码<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$.fn.hilight = function() &#123;     </div><div class="line">  // Our plugin implementation code goes here.     </div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<p>我们的插件通过这样被调用：<br>$(‘#myDiv’).hilight();     </p>
<p>但是如果我们需要分解我们的实现代码为多个函数该怎么办？有很多原因：设计上的需要；这样做更容易或更易读的实现；而且这样更符合面向对象。 这真是一个麻烦事，把功能实现分解成多个函数而不增加多余的命名空间。出于认识到和利用函数是javascript中最基本的类对象，我们可以这样做。就像其他对象一样，函数可以被指定为属性。因此我们已经声明“hilight”为jQuery的属性对象，任何其他的属性或者函数我们需要暴露出来的，都可以在”hilight” 函数中被声明属性。稍后继续。</p>
<h3 id="2-2-接受options参数以控制插件的行为"><a href="#2-2-接受options参数以控制插件的行为" class="headerlink" title="2.2 接受options参数以控制插件的行为"></a>2.2 接受options参数以控制插件的行为</h3><p>让我们为我们的插件添加功能指定前景色和背景色的功能。我们也许会让选项像一个options对象传递给插件函数。例如：   </p>
<p>Java代码<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">// plugin definition     </div><div class="line">$.fn.hilight = function(options) &#123;     </div><div class="line">  var defaults = &#123;     </div><div class="line">    foreground: <span class="string">'red'</span>,     </div><div class="line">    background: <span class="string">'yellow'</span>     </div><div class="line">  &#125;;     </div><div class="line">  // Extend our default options <span class="keyword">with</span> those provided.     </div><div class="line">  var opts = $.extend(defaults, options);     </div><div class="line">  // Our plugin implementation code goes here.     </div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<p>我们的插件可以这样被调用：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$(<span class="string">'#myDiv'</span>).hilight(&#123;     </div><div class="line">  foreground: <span class="string">'blue'</span>     </div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<h3 id="2-3-暴露插件的默认设置"><a href="#2-3-暴露插件的默认设置" class="headerlink" title="2.3 暴露插件的默认设置"></a>2.3 暴露插件的默认设置</h3><p>我们应该对上面代码的一种改进是暴露插件的默认设置。这对于让插件的使用者更容易用较少的代码覆盖和修改插件。接下来我们开始利用函数对象。     </p>
<p>Java代码<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">// plugin definition     </div><div class="line">$.fn.hilight = function(options) &#123;     </div><div class="line">  // Extend our default options <span class="keyword">with</span> those provided.     </div><div class="line">  // Note that the first arg to extend <span class="keyword">is</span> an empty object -     </div><div class="line">  // this <span class="keyword">is</span> to keep <span class="keyword">from</span> overriding our <span class="string">"defaults"</span> object.     </div><div class="line">  var opts = $.extend(&#123;&#125;, $.fn.hilight.defaults, options);     </div><div class="line">  // Our plugin implementation code goes here.     </div><div class="line">&#125;;     </div><div class="line">// plugin defaults - added <span class="keyword">as</span> a property on our plugin function     </div><div class="line">$.fn.hilight.defaults = &#123;     </div><div class="line">  foreground: <span class="string">'red'</span>,     </div><div class="line">  background: <span class="string">'yellow'</span>     </div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<p>现在使用者可以包含像这样的一行在他们的脚本里：<br>//这个只需要调用一次，且不一定要在ready块中调用<br>$.fn.hilight.defaults.foreground = ‘blue’;<br>接下来我们可以像这样使用插件的方法，结果它设置蓝色的前景色：<br>$(‘#myDiv’).hilight();   </p>
<p>如你所见，我们允许使用者写一行代码在插件的默认前景色。而且使用者仍然在需要的时候可以有选择的覆盖这些新的默认值：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">// 覆盖插件缺省的背景颜色 </div><div class="line"></div><div class="line">$.fn.hilight.defaults.foreground = <span class="string">'blue'</span>; </div><div class="line"></div><div class="line">// ... </div><div class="line"></div><div class="line">// 使用一个新的缺省设置调用插件 </div><div class="line"></div><div class="line">$(<span class="string">'.hilightDiv'</span>).hilight(); </div><div class="line"></div><div class="line">// ... </div><div class="line"></div><div class="line">// 通过传递配置参数给插件方法来覆盖缺省设置 </div><div class="line"></div><div class="line">$(<span class="string">'#green'</span>).hilight(&#123; </div><div class="line"></div><div class="line"> foreground: <span class="string">'green'</span> </div><div class="line"></div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<h3 id="2-4-适当的暴露一些函数"><a href="#2-4-适当的暴露一些函数" class="headerlink" title="2.4 适当的暴露一些函数"></a>2.4 适当的暴露一些函数</h3><p>这段将会一步一步对前面那段代码通过有意思的方法扩展你的插件（同时让其他人扩展你的插件）。例如，我们插件的实现里面可以定义一个名叫”format”的函数来格式化高亮文本。我们的插件现在看起来像这样，默认的format方法的实现部分在hiligth函数下面。</p>
<p>Java代码<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">// plugin definition     </div><div class="line">$.fn.hilight = function(options) &#123;     </div><div class="line">  // iterate <span class="keyword">and</span> reformat each matched element     </div><div class="line">  <span class="keyword">return</span> this.each(function() &#123;     </div><div class="line">    var $this = $(this);     </div><div class="line">    // ...     </div><div class="line">    var markup = $this.html();     </div><div class="line">    // call our format function     </div><div class="line">    markup = $.fn.hilight.format(markup);     </div><div class="line">    $this.html(markup);     </div><div class="line">  &#125;);     </div><div class="line">&#125;;     </div><div class="line">// define our format function     </div><div class="line">$.fn.hilight.format = function(txt) &#123;     </div><div class="line"><span class="keyword">return</span> <span class="string">'&lt;strong&gt;'</span> + txt + <span class="string">'&lt;/strong&gt;'</span>;     </div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<p>我们很容易的支持options对象中的其他的属性通过允许一个回调函数来覆盖默认的设置。这是另外一个出色的方法来修改你的插件。这里展示的技巧是进一步有效的暴露format函数进而让他能被重新定义。通过这技巧，是其他人能够传递他们自己设置来覆盖你的插件，换句话说，这样其他人也能够为你的插件写插件。<br>考虑到这个篇文章中我们建立的无用的插件，你也许想知道究竟什么时候这些会有用。一个真实的例子是Cycle插件.这个Cycle插件是一个滑动显示插件，他能支持许多内部变换作用到滚动，滑动，渐变消失等。但是实际上，没有办法定义也许会应用到滑动变化上每种类型的效果。那是这种扩展性有用的地方。 Cycle插件对使用者暴露”transitions”对象，使他们添加自己变换定义。插件中定义就像这样：<br>$.fn.cycle.transitions = { </p>
<p>// … </p>
<p>}; </p>
<p>这个技巧使其他人能定义和传递变换设置到Cycle插件。</p>
<h3 id="2-5-保持私有函数的私有性"><a href="#2-5-保持私有函数的私有性" class="headerlink" title="2.5 保持私有函数的私有性"></a>2.5 保持私有函数的私有性</h3><p>这种技巧暴露你插件一部分来被覆盖是非常强大的。但是你需要仔细思考你实现中暴露的部分。一但被暴露，你需要在头脑中保持任何对于参数或者语义的改动也许会破坏向后的兼容性。一个通理是，如果你不能肯定是否暴露特定的函数，那么你也许不需要那样做。</p>
<p>那么我们怎么定义更多的函数而不搅乱命名空间也不暴露实现呢？这就是闭包的功能。为了演示，我们将会添加另外一个“debug”函数到我们的插件中。这个 debug函数将为输出被选中的元素格式到firebug控制台。为了创建一个闭包，我们将包装整个插件定义在一个函数中。 </p>
<p>Java代码<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"> (function($) &#123;     </div><div class="line">  // plugin definition     </div><div class="line">  $.fn.hilight = function(options) &#123;     </div><div class="line">    debug(this);     </div><div class="line">   // ...     </div><div class="line">  &#125;;     </div><div class="line">  // private function <span class="keyword">for</span> debugging     </div><div class="line">  function debug($obj) &#123;     </div><div class="line">    <span class="keyword">if</span> (window.console &amp;&amp; window.console.log)     </div><div class="line">    window.console.log(<span class="string">'hilight selection count: '</span> + $obj.size());     </div><div class="line">  &#125;;     </div><div class="line">//  ...     </div><div class="line">&#125;)(jQuery);</div></pre></td></tr></table></figure></p>
<p>我们的“debug”方法不能从外部闭包进入,因此对于我们的实现是私有的。</p>
<h3 id="2-6-支持Metadata插件"><a href="#2-6-支持Metadata插件" class="headerlink" title="2.6 支持Metadata插件"></a>2.6 支持Metadata插件</h3><p>在你正在写的插件的基础上，添加对Metadata插件的支持能使他更强大。个人来说，我喜欢这个Metadata插件，因为它让你使用不多的”markup”覆盖插件的选项（这非常有用当创建例子时）。而且支持它非常简单。更新：注释中有一点优化建议。</p>
<p>Java代码<br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">$.fn.hilight = function(options) &#123;     </div><div class="line">  // ...     </div><div class="line">  // build main options before element iteration     </div><div class="line">  var opts = $.extend(&#123;&#125;, $.fn.hilight.defaults, options);     </div><div class="line">  return this.each(function() &#123;     </div><div class="line">    var $this = $(this);     </div><div class="line">    // build element specific options     </div><div class="line">    var o = $.meta ? $.extend(&#123;&#125;, opts, $this.data()) : opts;     </div><div class="line">    //...</div></pre></td></tr></table></figure></p>
<p> 这些变动行做了一些事情：它是测试Metadata插件是否被安装如果它被安装了，它能扩展我们的options对象通过抽取元数据这行作为最后一个参数添加到JQuery.extend，那么它将会覆盖任何其它选项设置。现在我们能从”markup”处驱动行为,如果我们选择了“markup”：</p>
<p> 调用的时候可以这样写： jQuery.foo(); 或 $.foo(); </p>
<p>Java代码<br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">&lt;!--  markup  --&gt;     </div><div class="line">&lt;div class="hilight &#123; background: 'red', foreground: 'white' &#125;"&gt;     </div><div class="line">  Have a nice day!     </div><div class="line">&lt;/div&gt;     </div><div class="line">&lt;div class="hilight &#123; foreground: 'orange' &#125;"&gt;     </div><div class="line">  Have a nice day!     </div><div class="line">&lt;/div&gt;     </div><div class="line">&lt;div class="hilight &#123; background: 'green' &#125;"&gt;     </div><div class="line">  Have a nice day!     </div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure></p>
<p>现在我们能高亮哪些div仅使用一行脚本：<br>$(‘.hilight’).hilight();     </p>
<h3 id="2-7-整合"><a href="#2-7-整合" class="headerlink" title="2.7 整合"></a>2.7 整合</h3><p>下面使我们的例子完成后的代码：</p>
<p>Java代码<br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line">// 创建一个闭包     </div><div class="line">(function($) &#123;     </div><div class="line">  // 插件的定义     </div><div class="line">  $.fn.hilight = function(options) &#123;     </div><div class="line">    debug(this);     </div><div class="line">    // build main options before element iteration     </div><div class="line">    var opts = $.extend(&#123;&#125;, $.fn.hilight.defaults, options);     </div><div class="line">    // iterate and reformat each matched element     </div><div class="line">    return this.each(function() &#123;     </div><div class="line">    $this = $(this);     </div><div class="line"> // build element specific options     </div><div class="line"> var o = $.meta ? $.extend(&#123;&#125;, opts, $this.data()) : opts;     </div><div class="line"> // update element styles     </div><div class="line">$this.css(&#123;     </div><div class="line">   backgroundColor: o.background,     </div><div class="line">  color: o.foreground     </div><div class="line">  &#125;);     </div><div class="line">  var markup = $this.html();     </div><div class="line">   // call our format function     </div><div class="line"> markup = $.fn.hilight.format(markup);     </div><div class="line"> $this.html(markup);     </div><div class="line">    &#125;);     </div><div class="line">  &#125;;     </div><div class="line">  // 私有函数：debugging     </div><div class="line">  function debug($obj) &#123;     </div><div class="line">    if (window.console &amp;&amp; window.console.log)     </div><div class="line">      window.console.log('hilight selection count: ' + $obj.size());     </div><div class="line">  &#125;;     </div><div class="line">  // 定义暴露format函数     </div><div class="line">  $.fn.hilight.format = function(txt) &#123;     </div><div class="line">    return '&lt;strong&gt;' + txt + '&lt;/strong&gt;';     </div><div class="line">  &#125;;     </div><div class="line">  // 插件的defaults     </div><div class="line">  $.fn.hilight.defaults = &#123;     </div><div class="line">    foreground: 'red',     </div><div class="line">    background: 'yellow'     </div><div class="line">  &#125;;     </div><div class="line">// 闭包结束     </div><div class="line">&#125;)(jQuery);</div></pre></td></tr></table></figure></p>
<p>这段设计已经让我创建了强大符合规范的插件。我希望它能让你也能做到。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/12/14/Namespace/" data-id="cixr64ids0003z8jojsyy433w" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Technical-Term" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/12/14/Technical-Term/" class="article-date">
  <time datetime="2016-12-14T01:10:25.000Z" itemprop="datePublished">2016-12-14</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/12/14/Technical-Term/">Technical Term</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>###模块规范</p>
<ul>
<li>CommonJS - 规范了js在任何地方运行，不限于浏览器中，定义的模块为模块引用（require）、模块定义（exports）、模块标识（module）,NodeJs就是基于CommonJs做了一些取舍和补充的重要应用。</li>
<li>AMD - 异步模块加载，接口为define(id?,dependencies?,factory),需要声明模块的时候制定所有以来dep，并且作为形参传入factory中，例如definr([‘dep1’,’dep2’],function(dep1,dep2){…});RequireJS实现了AMD规范</li>
<li>CMD</li>
</ul>
<p>###专业术语</p>
<ul>
<li>module bundler - 模块打包</li>
<li>flexible - 灵活</li>
<li>unbiased - 无偏</li>
<li>extensible - 可扩展的</li>
<li>framework - 框架</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/12/14/Technical-Term/" data-id="cixr64idt0004z8jo1mlw8kkz" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-hello-world" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/12/13/hello-world/" class="article-date">
  <time datetime="2016-12-13T07:22:20.237Z" itemprop="datePublished">2016-12-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/12/13/hello-world/">Hello World</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo new <span class="string">"My New Post"</span></div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo server</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo generate</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo deploy</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/12/13/hello-world/" data-id="cixr64ie30006z8jofsc45116" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">January 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">December 2016</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2017/01/10/SpringBoot-Help/">SpringBoot Help</a>
          </li>
        
          <li>
            <a href="/2017/01/10/HexoHelper/">HexoHelper</a>
          </li>
        
          <li>
            <a href="/2016/12/15/js自执行函数/">js自执行函数</a>
          </li>
        
          <li>
            <a href="/2016/12/15/Jquery简写/">Jquery简写</a>
          </li>
        
          <li>
            <a href="/2016/12/14/Namespace/">Namespace</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>